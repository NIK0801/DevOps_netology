(function(){var a=Math.floor;function b(a){return Object.prototype.toString.call(a)}function c(){if(S=arguments[0],T=2===arguments.length?null:arguments[1],U=2===arguments.length?arguments[1]:arguments[2],U&&U.sendDataLayer&&(aa=!0),U&&U.initApiCall&&D("pageview",null,null,null,null,U.data),U&&U.trackClose&&y(),U&&U.trackDuration){var a=U.trackDuration,c=[5,15,30,45,60];"[object Array]"===b(a)&&(c=a),z(c)}if(U&&U.trackScroll){var a=U.trackScroll,c={positions:[10,25,50,75,100],deviation:3};"[object Object]"===b(a)&&(c=a),A(c)}if(U&&U.trackOver){var d=[{name:"mouseenter",handler:m}];B(U.trackOver,d)}if(U&&U.trackClick){var d=[{name:"mousedown",handler:n}];B(U.trackClick,d)}if(U&&U.trackSwipe){var d=[{name:"touchstart",handler:v},{name:"touchmove",handler:w}];B(U.trackSwipe,d)}if(U&&U.trackTyping){var d=[{name:"keyup",handler:x}];B(U.trackTyping,d)}}function e(){if(!X)W=document.referrer;else{var a=document.location.href;a!==X&&(W=X)}return X=document.location.href,encodeURI(W)}function f(a){O=a}function g(){return O}function h(a,b,c){var d=i(a),e=j(d,b,c);0<e&&e!==ha&&(ha=e,C("scroll",e))}function i(a){var b=document.body.offsetHeight,c=window.innerHeight,d=a/(b-c);return Math.round(100*d)}function j(a,b,c){for(var d,e=0;e<b.length;e++)if(d=b[e],a>=d-c&&a<=d+c)return d;return-1}function k(a,b){try{ia=window.scrollY,ja||(window.requestAnimationFrame(function(){try{h(ia,a,b),ja=!1}catch(a){console.log(a)}}),ja=!0)}catch(a){console.log(a)}}function l(a){ka||(ka=!0,a.preventDefault(),C("close"))}function m(a){o("over",a.target)}function n(a){o("click",a.currentTarget)}function o(a,b,c){try{var d=Object.assign({},b.dataset),e=b.className,f=b.tagName.toLowerCase(),g=b.value||null;C(a,null,c,null,{tag:f,class:e,data:d,value:g})}catch(a){console.log(a)}}function p(a){if("[object Array]"===Object.prototype.toString.call(a)){var b=[];return a.forEach(function(a){b.includes(a)||b.push(a)}),b}return[]}function q(a){if("[object Array]"===Object.prototype.toString.call(a)){var b=[];return a.forEach(function(a){if("*"!==a){var c=document.querySelectorAll(a);c.forEach(function(a){b.push(a)})}}),b}return[]}function r(a,b){try{if("[object Text]"!==Object.prototype.toString.call(a)){var c=Element.prototype,d=c.matches||c.matchesSelector||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector;return a.matches=d,a.matches(b)}}catch(a){return!1}return!1}function s(a,b){var c={childList:!0,subtree:!0,attributes:!1,characterData:!1},d=new MutationObserver(function(c,d){t(c,a,b)});d.observe(document,c)}function t(a,c,d){try{a&&0<a.length&&a.forEach(function(a){"childList"===a.type&&a.addedNodes&&0<a.addedNodes.length&&a.addedNodes.forEach(function(a){c&&"[object Text]"!==b(a)&&"[object Comment]"!==b(a)&&c.forEach(function(b){d.forEach(function(c){if(r(a,b))d.forEach(function(b){a.removeEventListener(b.name,b.handler),a.addEventListener(b.name,b.handler)});else try{var e=a.querySelectorAll(b);e&&e.forEach(function(a){a.addEventListener(c.name,c.handler)})}catch(a){console.log(a)}})})})})}catch(a){console.log(a)}}function u(a){return a.touches||a.originalEvent.touches}function v(a){try{var b=u(a)[0];la=b.clientX,ma=b.clientY}catch(a){console.log(a)}}function w(a){var b=Math.abs;try{if(!la||!ma)return;var c=a.touches[0].clientX,d=a.touches[0].clientY,e=la-c,f=ma-d;b(e)>b(f)?0<e?o("swipe",a.currentTarget,"left"):o("swipe",a.currentTarget,"right"):0<f,la=null,ma=null}catch(a){console.log(a)}}function x(a){0<na&&clearTimeout(na),na=setTimeout(function(){o("type",a.target)},1e3)}function y(){window.addEventListener("beforeunload",l),window.addEventListener("unload",l)}function z(a){a&&"[object Array]"===Object.prototype.toString.call(a)&&a.forEach(function(a){setTimeout(function(){C("duration",a)},1e3*a)})}function A(a){"[object Object]"===Object.prototype.toString.call(a)&&"[object Array]"===Object.prototype.toString.call(a.positions)&&"[object Number]"===Object.prototype.toString.call(a.deviation)&&window.addEventListener("scroll",function(b){k(a.positions,a.deviation)})}function B(a,b){try{if("[object Array]"===Object.prototype.toString.call(a)){var c=p(a),d=q(c);d&&d.forEach(function(a){b.forEach(function(b){a.addEventListener(b.name,b.handler,!1)})}),s(c,b)}}catch(a){console.log(a)}}function C(a,b,c,d,e){D("event",a,b,c,d,e)}function D(a,b,c,f,g,h){var i={};i.userId=O||window.$tmt_user_id,i.pageviewId=V,i.type=a,i.userTs=new Date().getTime(),i.tz="undefined"==typeof Intl?"N/A":Intl.DateTimeFormat().resolvedOptions().timeZone,i.url=document.documentURI,i.referrer=e(),i.pageTitle=document.title,i.br_w=screen.width,i.br_h=screen.height,i.w_w=window.innerWidth,i.w_h=window.innerHeight,i.uid_ga=Q||K("_ga"),i.uid_gid=R||K("_gid"),i.uid_ym=P||K("_ym_uid"),i.ver=F(),i.staticParams=E(),i.eventType=b?b:void 0,i.eventValue=c?c:void 0,i.eventLabel=f?f:void 0,i.eventCategory=g?g:void 0,i.eventData=h,aa&&!!window.dataLayer&&(i.dataLayer=G(window.dataLayer)),[da].forEach(function(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){try{if(4===b.readyState)if(200===b.status||400===b.status)try{J(JSON.parse(b.responseText))}catch(a){console.error(a)}else if(403===b.status)try{var a=JSON.parse(b.responseText);console.log("Status: "+a.status)}catch(a){console.error(a)}}catch(a){console.log(a)}},b.timeout=3e4,b.withCredentials=!0,b.open("POST",I(a),!0),b.setRequestHeader("Content-Type","text/plain;charset=UTF-8");try{b.send(JSON.stringify(i))}catch(a){console.log("Error: "+a)}})}function E(){return Z}function F(){return"baikal_2"}function G(a){if("[object Object]"===b(a)||"[object Array]"===b(a))for(var c in a)a[c]=G(a[c]);else"function"!=typeof a&&(a=a);return a}function H(){try{return a(1e9*Math.random())+""}catch(a){return new Date().getTime()+""}}function I(a){var b=a.concat("/data").concat("?cid=").concat(S).concat("&orig=").concat(decodeURI(document.location.origin)).concat("&sidl=").concat($).concat("&sidu=").concat(ba).concat("&guid=").concat(ca).concat("&ns=").concat(H());return _&&(_=!1,b=b.concat("&sl=").concat("1")),T&&(b=b.concat("&tid=").concat(T)),b}function J(a){if(a)if(a.status&&"Bad Request"===a.status)console.log("TM: "+a.status);else if(a.list&&navigator.cookieEnabled){if(a.uid&&localStorage.setItem("_tm_uid",a.uid),a.guid&&localStorage.setItem("_tm_guid",a.guid),"function"==typeof Y){var b={};a.guid&&Object.assign(b,{guid:a.guid}),Y(b)}a.list.forEach(function(a){!a.update||("_tm_lt_sid"===a.name&&($=a.value),L(a.name,a.value,a.age,a.domain,a.sameSite))})}}function K(a){var b="; "+document.cookie,c=b.split("; "+a+"=");if(2===c.length)return c[1].split(";")[0]}function L(a,b,c,d,e){var f="";if(c){var g=new Date;g.setTime(g.getTime()+1e3*c),f="; expires="+g.toUTCString()}var h;!e||(h="; SameSite=None; Secure"),document.cookie=a+"="+(b||"")+f+"; path=/; Domain="+d+(h||"")}function M(){var b=new Date().getTime()+"."+a(1e6*Math.random());return b}function N(){return V}var O,P,Q,R,S,T,U,V,W,X;V=function b(){var d=new Date().getTime(),c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=0|(d+16*Math.random())%16;return d=a(d/16),("x"===b?c:8|3&c).toString(16)});return c}();var Y,Z;localStorage.setItem("_tm_pvid",V);var $=K("_tm_lt_sid"),_=!1,aa=!1;$||($=M(),_=!0);var ba=navigator.cookieEnabled?localStorage.getItem("_tm_uid"):null;ba||(ba=M());var ca=navigator.cookieEnabled?localStorage.getItem("_tm_guid"):null;ca||(ca=M());var da="https://baikal.netology.ru",ea={init:c,setUserId:f,getUserId:g,setGa:function b(a){Q=a},setGid:function b(a){R=a},setYm:function b(a){P=a},setTrackerHost:function b(a){da=a},send:C,pageview:function b(a=null){null==a?D("pageview"):D("pageview",null,null,null,null,a)},getCookie:K,setCookie:L,getUID:function a(){return navigator.cookieEnabled?localStorage.getItem("_tm_guid"):null},getPageviewId:N,callback:function b(a){Y=a},setStaticParams:function b(a){Z=a}},fa=function(){var a=[].slice.call(arguments);return ea[a.shift()].apply(null,a)};window.$tmt&&window.$tmt.q.forEach(function(b){return fa.apply(null,b)}),window.$tmt=fa;var ha=-1,ia=0,ja=!1,ka=!1,la=null,ma=null,na=-1})();
