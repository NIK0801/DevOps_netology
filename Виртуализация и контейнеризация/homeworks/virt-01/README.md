Домашнее задание к занятию 1. «Введение в виртуализацию»

Задача 2
Выберите один из вариантов платформы в зависимости от задачи. Здесь нет однозначно верного ответа так как все зависит от конкретных условий: финансирование, компетенции специалистов, удобство использования, надежность, требования ИБ и законодательства, фазы луны.

Тип платформы:
физические сервера;
паравиртуализация;
виртуализация уровня ОС;

Задачи:
- высоконагруженная база данных MySql, критичная к отказу - физические сервера/паравиртуализация. Надежность и отказоустойчивость. Физические сервера дают максимальную стабильность. Производительность. Базы данных чувствительны к задержкам и I/O. Физика или близкая к ней виртуализация обеспечат минимальные потери. Гибкость отказоустойчивости. Аппаратные RAID, кластеризация на уровне оборудования — легче реализуются на физике.
- различные web-приложения - виртуализация уровня ОС/паравиртуализация. Гибкость и масштабируемость. Контейнеры легко масштабировать, деплоить и оркестрировать (Kubernetes, Docker Swarm). Изоляция. Уровня ОС достаточно для большинства веб-приложений. Экономичность. Контейнеры эффективнее используют ресурсы по сравнению с VM.
Паравиртуализация может использоваться, если приложения требуют различных ОС или сильно отличаются по структуре.
- Windows-системы для использования бухгалтерским отделом - виртуализация уровня ОС. Т.к. требуется только Windows
- системы, выполняющие высокопроизводительные расчёты на GPU - Физические серверы. Прямая работа с GPU. Тонкая настройка. Под такие задачи часто требуется fine-tuning драйверов, CUDA-библиотек, что проще делать на физике.

Задача 3
Выберите подходящую систему управления виртуализацией для предложенного сценария. Опишите ваш выбор.

Сценарии:

100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий. - Если есть деньги: VMware vSphere (Нет ограничений по выбору операционной системы, необходимой для управления всеми компонентами). Если денег нет - Hyper-V - условия реализуемы.

Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин. - Xen (open source, универсален, надежен, стабилен)

Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры. - Hyper-V (windows-виртуализация из коробки, есть бесплатная версия)

Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux. -  VirtualBox - кроссплатформенный, бесплатный /Proxmox(KVM)

Задача 4
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет?

Проблемы: Сложное администрирование (Необходимость владения разными интерфейсами), отсутствие централизованного мониторинга, разные подходы к резервному копированию, разные форматы виртуальных машин, Повышается риск несогласованности и уязвимостей, разные политики безопасности, интеграция с AD\LDAP.

Создавал бы я гетерогенную среду?
Скорее — нет, если можно обойтись однородной.
Да, гетерогенная среда бывает вынужденной мерой — из-за требований ПО, лицензий, организационных ограничений (разные отделы, партнеры, проекты и т.д.), но она всегда:
сложнее,
дороже в сопровождении,
и более рискованна в долгосрочной перспективе.

Когда гетерогенная среда оправдана?
Есть Windows-ориентированные задачи (Hyper-V) и Linux-инфраструктура с Proxmox/KVM.
Используются специфические решения, требующие определённого гипервизора.
Разделение по ролям: продуктив на одной платформе, тестирование/Dev на другой.
